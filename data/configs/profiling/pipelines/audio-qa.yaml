series: 20
metadata: 'starting audio-qa'
timeout: 70
pipeline_folder_name: audio-qa
pipeline_name: audio-qa
mode: exponential
nodes:
  - node_name: audio
    data_type: audio
    model_variants:
      - facebook-s2t-small-librispeech-asr
      - facebook-s2t-medium-librispeech-asr
      # - facebook-s2t-large-librispeech-asr
      # - facebook-wav2vec2-base-960h
      # - facebook-wav2vec2-large-960h
    max_batch_size:
      - '1'
      # - '2'
      # - '4'
      # - '8'
      # - '16'
    max_batch_time:
      - '1'
    cpu_request:
      # - '1'
      # - '2'
      # - '4'
      - '8'
      # - '16'
      # - '32'
    memory_request:
      - 10Gi
    replicas:
      - 1
      # - 2
    use_threading: 'True'
    num_interop_threads:
      - '1'
    num_threads:
      - '1'

  - node_name: nlp-qa
    data_type: text
    model_variants:
      - deepset-roberta-base-squad2
      # - deepset-xlm-roberta-large-squad2
      # - distilbert-base-cased-distilled-squad
      # - deepset-xlm-roberta-base-squad2
    max_batch_size:
      - '1'
      # - '2'
      # - '4'
      # - '8'
      # - '16'
    max_batch_time:
      - '1'
    cpu_request:
      # - '1'
      - '2'
      # - '4'
      - '8'
      # - '16'
    memory_request:
      - 10Gi
    replicas:
      - 1
      # - 2
    use_threading: 'True'
    num_interop_threads:
      - '1'
    num_threads:
      - '1'

benchmark_duration: 1
repetition: 1

workload_type: static
repetition: 1
workload_config:
  loads_to_test:
  # - 1
  - 10
  # - 20
  load_duration: 60

# workload_type: twitter
# workload_config:
#   # - start: '1861900'
#   - start: '1863050'
#     end: '1863200'
#     # end: '1862200'
#     # end: '1861960'
#     # end: '1862500'
#     # end: '1863700'
#     # end: '1865100'
#     damping_factor: 8 # [int | null]

central_queue: true
distrpution_time: 10