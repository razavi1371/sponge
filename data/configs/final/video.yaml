# ----------- system configs -------------
# pipeline informat
pipeline_folder_name: video
pipeline_name: video
timeout: 1
pipeline_folder_name: video
mode: exponential
nodes:
  - node_name: yolo
    data_type: image
    model_variants: yolov5n
    max_batch_size: '1'
    max_batch_time: '1'
    cpu_request: '16'
    memory_request: 10Gi
    replicas: 2
    use_threading: 'True'
    num_interop_threads: '1'
    num_threads: '1'
  - node_name: resnet-human
    data_type: text
    model_variants: resnet18
    max_batch_size: '1'
    max_batch_time: '1'
    cpu_request: '16'
    memory_request: 10Gi
    replicas: 1
    use_threading: 'True'
    num_interop_threads: '1'
    num_threads: '1'

# ----------- experiment configs -------------

benchmark_duration: 1
adaptation_interval: 15
workload_type: static
workload_config:
  loads_to_test: 1
  load_duration: 10000
# workload_type: twitter
# workload_config:
#   - start: '3:5:0'
#     end: '3:5:1'


# ----------- optimizer configs -------------
series: 125
# pipeline_name: video
metadata: 'checking the effect of changing all variables under arrival rate 1,\n cpu type: Intel(R) Xeon(R) Gold 6126 CPU @ 2.60GHz'
number_tasks: 2
profiling_series:
  - 71
  - 72
model_name:
  - yolo
  - resnet-human
task_name: 
  - crop
  - classification
initial_active_model:
  - yolov5n
  - resnet18
initial_cpu_allocation:
  - 1
  - 1
initial_replica:
  - 1
  - 1
initial_batch:
  - 1
  - 1
alpha: 1
beta: 1
gamma: 1
scaling_cap: 10 # maximum possible scaling per nodes
num_state_limit: 1000000 # number of states
threshold: 4 # RPS threshold for finding the base allocation
optimization_method: gurobi # options: [brute-force | gurobi]
allocation_mode: base # options: [fix | base | variable]
sla_factor: 5
normalize_accuracy: true
only_measured_profiles: false
profiling_load: 20
accuracy_method: sum # [average | sum | multiply]